# ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ğŸŒŸ

## 1. ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ì‹

### 1) ë™ê¸° ì²˜ë¦¬ ë°©ì‹ê³¼ ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ì‹

- **ë™ê¸° ì²˜ë¦¬ ë°©ì‹**: ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” ì²˜ë¦¬ ë°©ì‹
- **ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ì‹**: ë©€í‹° ìŠ¤ë ˆë“œëŠ” ì•„ë‹ˆì§€ë§Œ, ë™ì‹œì— ì—¬ëŸ¬ ê°œì˜ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ì‹
  - ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ì‹ì€ ë™ê¸° ì²˜ë¦¬ ë°©ì‹ë³´ë‹¤ **ë¹ ë¥´ê²Œ** ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

### 2) ì‹±ê¸€ ìŠ¤ë ˆë“œì™€ ë©€í‹° ìŠ¤ë ˆë“œ

- ìŠ¤ë ˆë“œ: í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì‹¤í–‰ë˜ëŠ” íë¦„ì˜ ë‹¨ìœ„
- **ì‹±ê¸€ ìŠ¤ë ˆë“œ**: **í•˜ë‚˜ì˜ ì‘ì—…**ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œ

  - **ìë°”ìŠ¤í¬ë¦½íŠ¸**ëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.
  - ì‹œê°„ì´ ì§§ì€ í•¨ìˆ˜ë¥¼ ë¨¼ì € ì²˜ë¦¬í•´ì„œ ë©€í‹° ìŠ¤ë ˆë“œì²˜ëŸ¼ ë™ì‘í•˜ê²Œ í•œë‹¤.

    ```javascript
    function first() {
      console.log("first");
    }
    function second() {
      setTimeout(() => console.log("second"), 2000);
    }
    function third() {
      console.log("third");
    }
    first();
    second();
    third();

    // ì¶œë ¥ ìˆœì„œ: first -> third -> second
    ```

- **ë©€í‹° ìŠ¤ë ˆë“œ**: **ì—¬ëŸ¬ ê°œì˜ ì‘ì—…**ì„ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œ

### 3) ì½œë°± í•¨ìˆ˜

```javascript
// ì£¼ë¬¸ -> ì œì¡° -> ì „ë‹¬
function order(coffee, callback) {
  console.log(`â˜• ${coffee} ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.`);
  setTimeout(() => {
    callback(coffee);
  }, 1000); // 1ì´ˆ í›„ì— ì»¤í”¼ ì œì¡° ì™„ë£Œ
}

function makeCoffee(coffee, callback) {
  console.log(`â˜• ${coffee}ë¥¼ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤.`);
  setTimeout(() => {
    callback(coffee);
  }, 1000); // 1ì´ˆ í›„ì— ì»¤í”¼ ì œì¡° ì™„ë£Œ
}

function getCoffee(coffee) {
  console.log(`â˜• ${coffee} ê°€ì ¸ê°€ì„¸ìš”.`);
}

// ì‹¤í–‰
order("ì•„ë©”ë¦¬ì¹´ë…¸", (coffee) => {
  makeCoffee(coffee, (coffee) => {
    getCoffee(coffee);
  });
});
```

- ìµëª… ì½œë°± í•¨ìˆ˜ë¡œ í‘œí˜„
  - `ì½œë°± ì§€ì˜¥`: ì½œë°± í•¨ìˆ˜ê°€ **ì¤‘ì²©**ë˜ì–´ ì½”ë“œê°€ ë³µì¡í•´ì§€ëŠ” í˜„ìƒ
    - ì½œë°± ì§€ì˜¥ì„ í•´ê²°í•˜ê¸° ìœ„í•´ `Promise`ì™€ `async/await`ê°€ ë“±ì¥í–ˆë‹¤.

```javascript
function orderAndGetCoffee(coffee) {
  setTimeout(() => {
    console.log(`â˜• ${coffee} ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.`);
    setTimeout(() => {
      console.log(`â˜• ${coffee}ë¥¼ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤.`);
      setTimeout(() => {
        console.log(`â˜• ${coffee} ê°€ì ¸ê°€ì„¸ìš”.`);
      }, 1000);
    }, 1000);
  }, 1000);
}

// ì‹¤í–‰
orderAndGetCoffee("ì•„ë©”ë¦¬ì¹´ë…¸");
```

## 2. í”„ë¡œë¯¸ìŠ¤

### 1) í”„ë¡œë¯¸ìŠ¤ì˜ ì´í•´

- ì½œë°± ì§€ì˜¥ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ES6ë¶€í„° ë“±ì¥í•œ ë¹„ë™ê¸° ì²˜ë¦¬ íŒ¨í„´
- `ê°ì²´ ìƒì„±(ì œì‘) ì½”ë“œ`ì™€ `ì†Œë¹„ ì½”ë“œ`ë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.
  - **ê°ì²´ ìƒì„±(ì œì‘) ì½”ë“œ**: í”„ë¡œë¯¸ìŠ¤ë¥¼ ë§Œë“œëŠ” ì½”ë“œ
    ```javascript
    let isSuccess = true;
    let promise = new Promise((resolve, reject) => {
      if (isSuccess) {
        resolve("ì„±ê³µ"); // "ì„±ê³µ" ê²°ê³¼ë¥¼ ë°˜í™˜
      } else {
        reject("ì‹¤íŒ¨"); //"ì‹¤íŒ¨" ê²°ê³¼ë¥¼ ë°˜í™˜
      }
    });
    ```
    - ì„±ê³µê³¼ ì‹¤íŒ¨ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìƒíƒœë¥¼ ì•½ì†í•œë‹¤.
    - fulfilled ìƒíƒœì¸ì§€, reject ìƒíƒœì¸ì§€ì— ë”°ë¼ ê²°ê´ê°’ì„ ë„˜ê²¨ì¤€ë‹¤.
      - `resolve(ê²°ê´ê°’)`: ì„±ê³µ ìƒíƒœì¼ ë•Œ ì‹¤í–‰
      - `reject(ê²°ê´ê°’)`: ì‹¤íŒ¨ ìƒíƒœì¼ ë•Œ ì‹¤í–‰
  - **ì†Œë¹„ ì½”ë“œ**: í”„ë¡œë¯¸ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œ
    ```javascript
    promise
      .then((result) => {
        console.log(result); // "ì„±ê³µ"
      })
      .catch((err) => {
        console.log(err); // "ì‹¤íŒ¨"
      })
      .finally(() => {
        console.log("ë¬´ì¡°ê±´ ì‹¤í–‰");
      });
    ```
    - ì„±ê³µí–ˆì„ ë•Œì™€ ì‹¤íŒ¨í–ˆì„ ë•Œì˜ ë™ì‘ì„ ì •ì˜í•œë‹¤.
    - ê²°ê´ê°’ì„ resultë‚˜ err ê°™ì€ ë³€ìˆ˜ì´ë¦„ìœ¼ë¡œ ë°›ì•„ì„œ ì‚¬ìš©
      - `then()`: **ì„±ê³µ**í–ˆì„ ë•Œì˜ ë™ì‘ì„ ì •ì˜
      - `catch()`: **ì‹¤íŒ¨**í–ˆì„ ë•Œì˜ ë™ì‘ì„ ì •ì˜
    - `finally()`: ì„±ê³µê³¼ ì‹¤íŒ¨ì— ìƒê´€ì—†ì´ **ë¬´ì¡°ê±´** ì‹¤í–‰ë˜ëŠ” ë™ì‘ì„ ì •ì˜

### 2) í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœ

- í”„ë¡œë¯¸ìŠ¤ëŠ” resolve() í•¨ìˆ˜ë‚˜ reject() í•¨ìˆ˜ë¥¼ **ë§¤ê°œë³€ìˆ˜**ë¡œ ë°›ì•„ì„œ ì‹¤í–‰í•˜ëŠ” ê°ì²´
- í”„ë¡œë¯¸ìŠ¤ ê°ì²´ëŠ” resolve() í•¨ìˆ˜ë‚˜ reject() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ **ìƒíƒœê°€ ë°”ë€œ**

  - `pending`: ë¹„ë™ê¸° ì²˜ë¦¬ ë¡œì§ì´ ì•„ì§ ì™„ë£Œë˜ì§€ ì•Šì€ ìƒíƒœ
    - ê²°ê³¼ ê°’ì„ ì•„ì§ ë°˜í™˜í•˜ì§€ ì•Šì€ ìƒíƒœ(undefined)
  - `fulfilled`: ë¹„ë™ê¸° **ì²˜ë¦¬ê°€ ì™„ë£Œ**ë˜ì–´ í”„ë¡œë¯¸ìŠ¤ê°€ ê²°ê³¼ ê°’ì„ ë°˜í™˜í•´ì¤€ ìƒíƒœ
  - `rejected`: ë¹„ë™ê¸° **ì²˜ë¦¬ê°€ ì‹¤íŒ¨**í•˜ê±°ë‚˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ìƒíƒœ

### 3) í”„ë¡œë¯¸ìŠ¤ì˜ ì‚¬ìš©

- ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹

  ```javascript
  function orderCoffee(coffee, callback) {
    setTimeout(() => {
      console.log(`${coffee} ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. â˜•`);
      callback(coffee);
    }, 1000);
  }

  function makeCoffee(coffee, callback) {
    setTimeout(() => {
      console.log(`${coffee} ì œì¡° ì¤‘ì…ë‹ˆë‹¤. â˜•`);
      callback(coffee);
    }, 1000);
  }

  function getCoffee(coffee) {
    setTimeout(() => {
      console.log(`${coffee} ê°€ì ¸ê°€ì„¸ìš”. â˜•`);
    }, 1000);
  }

  // ì‹¤í–‰
  orderCoffee("ì•„ë©”ë¦¬ì¹´ë…¸", (coffee) => {
    makeCoffee(coffee, (coffee) => {
      getCoffee(coffee);
    });
  });
  ```

- í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ ë°©ì‹

  ```javascript
  function orderCoffee(coffee) {
    console.log(`${coffee} ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. â˜•`);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve(coffee);
      }, 1000);
    });
  }
  function makeCoffee(coffee) {
    console.log(`${coffee} ì œì¡° ì¤‘ì…ë‹ˆë‹¤. â˜•`);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve(coffee);
      }, 1000);
    });
  }
  function getCoffee(coffee) {
    console.log(`${coffee} ê°€ì ¸ê°€ì„¸ìš”. â˜•`);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve(coffee);
      }, 1000);
    });
  }

  // ì‹¤í–‰
  orderCoffee("ì•„ë©”ë¦¬ì¹´ë…¸")
    .then((coffee) => makeCoffee(coffee))
    .then((coffee) => getCoffee(coffee));
    .finally(() => {
      console.log("ëª¨ë“  ë™ì‘ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
    });
  ```

- í”„ë¡œë¯¸ìŠ¤ ì†Œë¹„ ì½”ë“œ ì¤„ì—¬ì“°ê¸°

  ```javascript
  orderCoffee("ì•„ë©”ë¦¬ì¹´ë…¸").then(makeCoffee).then(getCoffee);
  ```

## 3. fetch API

### 1) fetch APIì˜ ì´í•´

- ì„œë²„ì— ìë£Œë¥¼ ìš”ì²­í•˜ê±°ë‚˜ ìë£Œë¥¼ ë°›ì•„ì˜¬ ë•Œ ì‚¬ìš©í•˜ëŠ” API
  - XMLHttpRequestë¥¼ ëŒ€ì‹ í•œë‹¤.
  - **Promise**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ ìˆë‹¤.

### 2) fetch APIì˜ ì‚¬ìš©

```javascript
// XMLHttpRequest ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
let xhr = new XMLHttpRequest();
xhr.open("GET", "test.json"); // GET ë°©ì‹ìœ¼ë¡œ test.json íŒŒì¼ì„ ìš”ì²­
xhr.send();
xhr.onreadystatechange = function () {
  if (xhr.readyState === 4 && xhr.status === 200) {
    let json = JSON.parse(xhr.responseText); // ì‘ë‹µ ë³¸ë¬¸ì„ JSON í˜•íƒœë¡œ íŒŒì‹±
    console.log(json);
  }
};

// fetch() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
fetch("test.json") // GET ë°©ì‹ìœ¼ë¡œ test.json íŒŒì¼ì„ ìš”ì²­
  .then((response) => response.json()) // ì‘ë‹µ ë³¸ë¬¸ì„ JSON í˜•íƒœë¡œ íŒŒì‹±
  .then((json) => {
    console.log(json);
  });
```

- fetch(ìœ„ì¹˜, ì˜µì…˜)
  - **ìœ„ì¹˜**: ìë£Œë¥¼ ê°€ì ¸ì˜¬ ì„œë²„ì˜ ì£¼ì†Œ
  - **ì˜µì…˜**: ìë£Œë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¬ì§€ì— ëŒ€í•œ ì •ë³´
    - method: GET(ê¸°ë³¸ê°’), POST, PUT, DELETE
    - headers: HTTP í—¤ë” ì •ë³´
    - body: HTTP ìš”ì²­ ë³¸ë¬¸ì— ë‹´ì„ ë‚´ìš©

## 4. async/await

### 1) async í•¨ìˆ˜

- í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ì€ í”„ë¡œë¯¸ìŠ¤ë¥¼ ê³„ì† ì—°ê²°í•´ì„œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì½œë°±ì§€ì˜¥ì²˜ëŸ¼ ì†ŒìŠ¤ê°€ ë³µì¡í•´ì§ˆ ìˆ˜ë„ ìˆë‹¤.
  - ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **async/await** ì˜ˆì•½ì–´ ë“±ì¥
  - asyncë¥¼ ì‚¬ìš©í•˜ë©´ ê·¸ í•¨ìˆ˜ ì•ˆì— ìˆëŠ” ëª…ë ¹ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰
- ì¼ë°˜ í•¨ìˆ˜ì™€ async í•¨ìˆ˜ì˜ ì°¨ì´ì 

  ```javascript
  // ì¼ë°˜ í•¨ìˆ˜
  function work() {
    console.log("ì‘ì—… ì¤‘");
  }

  // async í•¨ìˆ˜(promiseë¥¼ ë°˜í™˜)
  async function asyncWork() {
    console.log("ì‘ì—… ì¤‘");
  }

  work();
  asyncWork(); // Promise ë°˜í™˜
  ```

- async í•¨ìˆ˜ë¡œ ê°„ê²°í•˜ê²Œ ì‘ì„±í•˜ê¸°

  - ì¼ë°˜ Promise ë°˜í™˜ í•¨ìˆ˜

    ```javascript
    function orderPizza(pizza) {
      console.log(`${pizza} í”¼ì ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ•`);
      return new Promise((resolve, reject) => {
        resolve(pizza);
      });
    }
    function makePizza(pizza) {
      console.log(`${pizza} í”¼ì ì œì¡° ì¤‘ì…ë‹ˆë‹¤. ğŸ•`);
      return new Promise((resolve, reject) => {
        resolve(pizza);
      });
    }
    function takePizza(pizza) {
      console.log(`${pizza} í”¼ì ê°€ì ¸ê°€ì„¸ìš”. ğŸ•`);
      return new Promise((resolve, reject) => {
        resolve(pizza);
      });
    }
    // ì‹¤í–‰
    orderPizza("ì½¤ë¹„ë„¤ì´ì…˜").then(makePizza).then(takePizza);
    ```

  - async í•¨ìˆ˜ ì‚¬ìš©

    ```javascript
    async function orderPizza(pizza) {
      console.log(`${pizza} í”¼ì ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ•`);
      return pizza;
    }

    async function makePizza(pizza) {
      console.log(`${pizza} í”¼ì ì œì¡° ì¤‘ì…ë‹ˆë‹¤. ğŸ•`);
      return pizza;
    }

    async function takePizza(pizza) {
      console.log(`${pizza} í”¼ì ê°€ì ¸ê°€ì„¸ìš”. ğŸ•`);
      return pizza;
    }

    orderPizza("ì½¤ë¹„ë„¤ì´ì…˜").then(makePizza).then(takePizza);
    ```

### 2) `await` í‚¤ì›Œë“œ

- í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ì„ ì¢€ ë” **ê°„ê²°í•˜ê²Œ** ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì˜ˆì•½ì–´
- async í•¨ìˆ˜ ì•ˆì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥

```javascript
async function orderAndTakePizza(pizza) {
  const orderedPizza = await orderPizza(pizza); // ê¸°ë‹¤ë ¸ë‹¤ê°€ ë‹¤ìŒ ì½”ë“œ ì‹¤í–‰
  const pizza1 = await makePizza(orderedPizza); // ê¸°ë‹¤ë ¸ë‹¤ê°€ ë‹¤ìŒ ì½”ë“œ ì‹¤í–‰
  await takePizza(pizza1); // ê¸°ë‹¤ë ¸ë‹¤ê°€ ë‹¤ìŒ ì½”ë“œ ì‹¤í–‰
  console.log("ëª¨ë“  ë™ì‘ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
}
```
